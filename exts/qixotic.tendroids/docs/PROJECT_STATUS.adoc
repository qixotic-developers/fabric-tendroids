= Tendroids Project Status
:author: qixotic
:date: November 2025
:revision: 6.0

== Current State (V2 Production System)

=== Architecture
The **v2 module** is the canonical implementation for bubble-guided deformation.
The **v1 module** contains deprecated legacy code (transform-based animation).

=== Performance (RTX 4090)
[cols="1,1,1"]
|===
| Tendroids | FPS | Status

| 15 | 60 | Production target ✓
| 30 | 40 | Stress tested ✓
|===

=== Deformation Performance
[cols="1,1,1"]
|===
| Method | ms/frame | Theoretical FPS

| Warp GPU | 0.68 | 1,480
| NumPy | 2.55 | 392
| Pure Python | 6.67 | 150
|===

== Module Structure

[source]
----
qixotic.tendroids/
├── __init__.py        # Primary exports from v2
├── extension.py       # Omniverse extension entry point
├── fast_mesh_updater.pyd  # C++ acceleration (optional)
│
├── v2/                # CANONICAL: Bubble-guided deformation
│   ├── v2_warp_*.py   # GPU implementations (default)
│   ├── v2_numpy_*.py  # CPU fallback (NumPy vectorized)
│   ├── v2_*.py        # CPU fallback (pure Python)
│   └── __init__.py    # Exports all implementations
│
├── v1/                # DEPRECATED: Legacy transform-based system
│   ├── animation/     # Breathing, wave, idle motion
│   ├── bubbles/       # Original bubble system
│   ├── config/        # Configuration management
│   ├── core/          # Tendroid entities
│   ├── scene/         # Scene management
│   ├── sea_floor/     # Terrain generation (used by v2)
│   ├── ui/            # Control panel
│   ├── utils/         # Math helpers
│   └── __init__.py    # Deprecation warning + re-exports
│
├── poc/               # DEPRECATED: Redirects to v2
│   └── __init__.py    # Import aliases only
│
├── tests/             # Test scripts (tests both versions)
└── cpp/               # C++ extension source
----

== Import Patterns

=== Recommended (V2)
[source,python]
----
# Direct from v2
from qixotic.tendroids.v2 import V2WarpController, V2WarpTendroid

# Or from main module (exports v2)
from qixotic.tendroids import V2WarpController, WarpController
----

=== Legacy (V1 - Deprecated)
[source,python]
----
# Will show deprecation warning
from qixotic.tendroids.v1 import scene, animation, bubbles
----

== Key Design Principle

Bubbles **DRIVE** cylinder deformation (not the other way around):

[source]
----
Bubble rises → Cylinder deforms around bubble → No clipping possible
----

== Running Tests

=== V2 Warp (GPU - Recommended)
[source,python]
----
# In Omniverse Script Editor
exec(open("C:/Dev/Omniverse/fabric-tendroids/exts/qixotic.tendroids/qixotic/tendroids/tests/test_warp_deform.py").read())
----

=== Stress Test (Multiple Tendroids)
[source,python]
----
exec(open("C:/Dev/Omniverse/fabric-tendroids/exts/qixotic.tendroids/qixotic/tendroids/tests/test_warp_stress.py").read())
----

== Phase 2 Goals

1. **Stress Testing**: Scale from 15 → 30 Tendroids, find fps ceiling
2. **Warp Kernel Research**: Swept torus topology for transparency
3. **Environmental**: Caustic lighting, kelp/seaweed props
4. **Migrate v1 utilities**: Move reusable code (sea_floor, config) to v2

== Documentation

=== Active Docs
* `BUBBLE_TUNING_GUIDE.adoc` - Parameter tuning reference
* `BUBBLE_CONTROLS_UI.adoc` - UI controls reference
* `PERFORMANCE_LOG.adoc` - Ongoing performance tracking
* `wave_motion_system.adoc` - Wave system documentation
* `warp_particles.adoc` - Particle system documentation
* `tendroids-system-manual.adoc` - Comprehensive manual

=== Archived Docs
Historical implementation notes in `docs/archive/`
