= Tendroids Project Status
:author: qixotic
:date: November 2025
:revision: 8.0

== Current State (V2 Production System)

=== Architecture
The **v2 module** is now fully self-contained with all dependencies migrated.
The **v1 module** is deprecated and no longer required by v2.

=== Performance (RTX 4090)
[cols="1,1,1"]
|===
| Tendroids | FPS | Status

| 15 | 60 | Production target ✓
| 30 | 40 | Stress tested ✓
|===

=== Deformation Performance
[cols="1,1,1"]
|===
| Method | ms/frame | Theoretical FPS

| Warp GPU | 0.68 | 1,480
| NumPy | 2.55 | 392
| Pure Python | 6.67 | 150
|===

== Module Structure

[source]
----
qixotic.tendroids/
├── __init__.py            # Primary exports from v2
├── extension.py           # Omniverse extension entry point
│
├── v2/                    # CANONICAL: Fully self-contained
│   ├── __init__.py        # Exports all classes
│   ├── bubbles/           # Bubble logic and visuals
│   │   ├── bubble.py
│   │   └── bubble_visual.py
│   ├── controllers/       # Scene orchestration
│   │   ├── controller.py      # V2Controller (Python)
│   │   ├── numpy_controller.py
│   │   └── warp_controller.py # V2WarpController (GPU)
│   ├── core/              # Tendroid entities and deformers
│   │   ├── tendroid.py
│   │   ├── numpy_tendroid.py
│   │   ├── warp_tendroid.py
│   │   ├── deformer.py
│   │   └── warp_deformer.py
│   ├── config/            # Configuration system
│   │   ├── config_loader.py
│   │   └── tendroids_config.json
│   ├── environment/       # Sea floor and scene setup
│   │   ├── sea_floor_config.py
│   │   ├── sea_floor_controller.py
│   │   ├── sea_floor_helper.py
│   │   ├── environment_config.py
│   │   └── environment_setup.py
│   └── utils/             # Helpers
│       └── material_helper.py
│
├── v1/                    # DEPRECATED: Legacy system (not used by v2)
├── poc/                   # DEPRECATED: Redirects to v2
├── tests/                 # Test scripts
└── cpp/                   # C++ extension source
----

== Import Patterns

=== Recommended (V2)
[source,python]
----
# Main classes
from qixotic.tendroids.v2 import V2WarpController, V2WarpTendroid

# Sub-modules
from qixotic.tendroids.v2.controllers import V2WarpController
from qixotic.tendroids.v2.core import V2WarpTendroid
from qixotic.tendroids.v2.bubbles import V2Bubble
from qixotic.tendroids.v2.environment import SeaFloorController
from qixotic.tendroids.v2.config import ConfigLoader, get_config_value
----

== Key Design Principle

Bubbles **DRIVE** cylinder deformation (not the other way around):

[source]
----
Bubble rises → Cylinder deforms around bubble → No clipping possible
----

== Running Tests

=== V2 Warp (GPU - Recommended)
[source,python]
----
exec(open("C:/Dev/Omniverse/fabric-tendroids/exts/qixotic.tendroids/qixotic/tendroids/tests/test_warp_deform.py").read())
----

=== Stress Test (Multiple Tendroids)
[source,python]
----
exec(open("C:/Dev/Omniverse/fabric-tendroids/exts/qixotic.tendroids/qixotic/tendroids/tests/test_warp_stress.py").read())
----

== Phase 2 Goals

1. **Stress Testing**: Scale from 15 → 30 Tendroids, find fps ceiling
2. **Warp Kernel Research**: Swept torus topology for transparency
3. **Environmental**: Caustic lighting, kelp/seaweed props
