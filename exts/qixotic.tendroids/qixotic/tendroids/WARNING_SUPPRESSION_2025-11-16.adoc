= Warning Suppression - November 16, 2025

== Issue

During stress tests, 270+ warnings are logged:

----
[Warning] [qixotic.tendroids.core.vertex_deform_helper] [VertexDeformHelper] FastMeshUpdater missing USD mesh methods
  Current version only supports compute_tube_vertices() and batch_compute_vertices()
  Vertex deformation helper cannot be used - Tendroid will fall back to Python
----

**Cause:** Each of 30 Tendroids checks for FastMeshUpdater USD methods during initialization. This produces 30 warnings. Over a 10-second test with multiple runs, this generates 270+ identical warnings.

**Impact:** Log spam, but functionally harmless. The code correctly falls back to Python vertex updates.

== Solution

Implemented module-level warning suppression - only warn on first occurrence.

=== Code Changes

**File:** `core/vertex_deform_helper.py`

**Added module-level flag:**
[source,python]
----
# Module-level flag to warn only once about missing USD methods
_warned_about_missing_methods = False
----

**Updated initialize() method:**
[source,python]
----
def initialize(self, stage_id: int, fast_mesh_updater) -> bool:
    global _warned_about_missing_methods
    
    # Check if FastMeshUpdater has USD mesh update methods
    if not hasattr(self.updater, 'is_stage_attached'):
        # Only warn once to avoid log spam
        if not _warned_about_missing_methods:
            carb.log_warn(
                f"[VertexDeformHelper] FastMeshUpdater missing USD mesh methods\n"
                f"  Current version only supports compute_tube_vertices() and batch_compute_vertices()\n"
                f"  Falling back to Python vertex updates (this warning shown once)"
            )
            _warned_about_missing_methods = True
        return False
----

== Result

**Before:** 270 warnings during stress test  
**After:** 1 warning total (on first Tendroid initialization)

**Behavior:** 
- First Tendroid to initialize logs the warning
- Subsequent Tendroids silently fall back to Python
- Functionality unchanged - still uses Python vertex updates
- Log remains clean and readable

== Future Work

When FastMeshUpdater C++ extension is completed with USD mesh methods:
1. Remove the warning entirely (code will use C++ path)
2. OR keep the warning for debugging new deployments
3. Consider adding a success message when C++ path is available

== Files Modified

----
core/vertex_deform_helper.py
  - Added module-level flag
  - Updated initialize() to warn once
  - Updated warning message
----

== Testing

Verified with stress test:
- ✅ Warning appears once on first Tendroid
- ✅ No subsequent warnings
- ✅ All Tendroids animate correctly
- ✅ Performance unchanged (still 49 fps with 30 Tendroids)
