= Session Decisions Log - November 14, 2025
:toc:
:sectnums:

== Session Overview

**Focus:** Custom Composer configuration and project state documentation +
**Outcome:** Documented current state, created Phase 2 plan, attempted Extensions panel configuration

== Technical Decisions

=== Extensions Panel Auto-Filter
**Decision:** Abandon programmatic @feature filter override approach

**Rationale:**
* Tested multiple .kit file settings with no success
* Settings attempted:
  - `[settings.exts."omni.kit.window.extensions"]` section with `default_search_words`
  - Root `[settings]` section with `"/exts/omni.kit.window.extensions/default_search_words"`
  - Values tried: `"qixotic tendroids"`, `""` (empty)
* None successfully overrode the @feature default
* Manual filtering is acceptable workaround
* Not worth further investigation time

**Impact:** Minor - developers can manually clear @feature filter

**Alternative Approach (Not Pursued):**
* Could investigate Extension Manager Python API directly
* Could create custom UI extension to set filter programmatically
* Cost/benefit doesn't justify effort

=== File Organization Standards Confirmed
**Decision:** Maintain 100-150 line module size limit

**Rationale:**
* Proven manageable during Phase 1 development
* Good balance of cohesion and readability
* Controller pattern with helper files works well
* Prevents over-engineering issues that caused earlier memory exceptions

**Application:**
* Class files = controllers
* Frequently changing methods = helper files
* `__init__.py` = initialization and module globals

=== Documentation Strategy
**Decision:** Create session-bridging documentation in AsciiDoc

**Files Created:**
1. `current-project-state.adoc` - Comprehensive status snapshot
2. `phase2-development-plan.adoc` - Detailed next phase roadmap

**Rationale:**
* Chat token limits necessitate external continuity
* AsciiDoc format consistent with existing project docs
* Detailed enough for context recovery
* Structured for quick scanning in new sessions

**Usage:**
* Reference at start of each new chat
* Update as project progresses
* Capture decisions and rationale

== Architectural Validations

=== Custom Composer Configuration
**Location:** `C:\Dev\Omniverse\tendroids-composer\source\apps\qixotic.usd_composer.kit`

**Confirmed Working:**
* Auto-fullscreen startup (`maximized = true`)
* Streamlined UI with disabled default panels
* Custom extension paths to fabric-tendroids
* Custom branding and titlebar

**Configuration Philosophy:**
* Minimal UI for Tendroids focus
* Developer workflow optimization over general use
* Extensions panel available but not prominent

=== Phase 2 Prerequisites Identified
**Decision:** Stress test architecture before adding features

**Rationale:**
* Current: 50fps @ 15 Tendroids
* Unknown: Performance ceiling and degradation curve
* Risk: Adding features without knowing headroom
* Approach: Scientific - measure breaking points first

**Action Items for Next Session:**
1. Scale Tendroid count: 15 → 20 → 25 → 30
2. Document FPS at each level
3. Identify which systems bottleneck first
4. Calculate headroom for transparency/physics

=== Performance Budget Allocation
**Decision:** Reserve performance headroom for specific features

**Targets Established:**
* Transparency: 40fps minimum with 15 Tendroids (10fps cost)
* Physics: 30fps minimum with 10 Tendroids (20fps cost)
* Bubbles: 5fps maximum cost
* Flora: Minimal impact requirement

**Rationale:**
* Scientific performance budgeting
* Clear go/no-go criteria
* Prevents performance regression
* Maintains production quality

== Development Process Decisions

=== Phased Implementation Strategy
**Decision:** Validate → Investigate → Implement → Integrate

**Phases:**
1. **Validation:** Stress testing + single-Tendroid controls
2. **Investigation:** Warp kernel research (no commitment yet)
3. **Implementation:** One feature at a time with benchmarks
4. **Integration:** Combine and optimize

**Rationale:**
* Reduces risk of compound failures
* Clear performance attribution
* Easier debugging
* Can halt if performance gates fail

=== Warp Kernel Transition Approach
**Decision:** Research phase before commitment

**Go/No-Go Criteria:**
* GO if: >2x performance improvement potential
* NO-GO if: <1.5x improvement OR high implementation risk

**Investigation Areas:**
* Swept torus geometry mathematics
* Warp kernel architecture and batch processing
* Breathing deformation lookup functions
* Integration with FastMeshUpdater

**Deliverable:** Technical specification document

**Rationale:**
* Transform-based animation already performant (50fps)
* Vertex deformation offers organic motion benefit
* Must justify development cost with performance data
* Allows informed architectural decision

=== Material Safety System Extension
**Decision:** Validate with swept torus before transparency rollout

**Risk Mitigation:**
* Start with single transparent Tendroid
* Static glass test before dynamic
* Incremental rollout to avoid GPU crashes
* Fallback to opaque if unstable

**Success Criteria:**
* No GPU crashes with dynamic transparent geometry
* Maintains material safety detection
* 40fps minimum with 15 transparent Tendroids

== Repository Management

=== Planned Rename
**Decision:** Defer `omni-tendroids` → `tendroids-composer` rename

**Rationale:**
* Not blocking current work
* Should coordinate with git history preservation
* Better done during natural milestone (Phase 2 start)
* Allows testing of rename process on branch first

**When:** Before Phase 2 implementation begins

== Meta-Development Decisions

=== Chat Continuity Strategy
**Decision:** Use documentation + memory for session bridging

**Approach:**
* Create detailed state/plan documents (done this session)
* Update memory with critical items
* Reference docs at start of new chats
* User provides concise recap when starting

**Memory Constraints:**
* Memory has token limit (hit during this session)
* Keep memory entries concise
* Focus on: failed approaches, key decisions, current status

=== Token Budget Management
**Decision:** Report remaining tokens for session planning

**Rationale:**
* User can allocate remaining tokens strategically
* Prevents mid-task termination
* Enables preparation for next session
* Creates natural breakpoints

**Implementation:**
* Report tokens when approaching limit
* Suggest documentation/planning activities
* Prioritize deliverables (1. state, 2. plan, 3. decisions)

== Next Session Start

=== Recommended Opening
```
"Continuing Tendroids Phase 2 preparation. Review:
- docs/current-project-state.adoc
- docs/phase2-development-plan.adoc

Ready to begin stress testing architecture (scaling to 30 Tendroids)."
```

=== First Actions
1. Review this decisions log
2. Reference phase2-development-plan.adoc
3. Begin stress testing implementation

---
*Document tracks all significant decisions made during this session for future reference*
